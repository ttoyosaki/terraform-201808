#--------------------------------------------------------------
# Common - Key
#--------------------------------------------------------------
variable "key" {
  type = "map"

  default = {
    # default
    default.credentials_profile = "default"
  }
}

#--------------------------------------------------------------
# Common - Prefix
#--------------------------------------------------------------
variable "prefix" {
  type = "map"

  default = {
    # default
    default.prefix = "first-issue-"
  }
}

#--------------------------------------------------------------
# RDS
#--------------------------------------------------------------
variable "rds" {
  type = "map"

  default = {
    #--------------------------------------------------------------
    # backup retention period
    #--------------------------------------------------------------
    default.backup_retention_period = 1

    #--------------------------------------------------------------
    # username
    #--------------------------------------------------------------
    default.username = "mysql_root"

    #--------------------------------------------------------------
    # instance count
    #--------------------------------------------------------------
    default.count = 1

    #--------------------------------------------------------------
    # instance class
    #--------------------------------------------------------------
    default.instance_class = "db.t2.micro"

    #--------------------------------------------------------------
    # maintenance window
    # Timezone is UTC
    #--------------------------------------------------------------
    default.preferred_maintenance_window = "Mon:05:00-Mon:08:00"

    #--------------------------------------------------------------
    # backup window
    # Timezone is UTC
    #--------------------------------------------------------------
    default.preferred_backup_window = "19:30-20:30"
  }
}

#--------------------------------------------------------------
# RDS - Parameter Group
#--------------------------------------------------------------
variable "parameter_group" {
  type = "map"

  default = {
    #--------------------------------------------------------------
    # db family
    #--------------------------------------------------------------
    default.db_family = "mysql5.7"

    #--------------------------------------------------------------
    # timezone
    #--------------------------------------------------------------
    default.timezone = "Asia/Tokyo"

    #--------------------------------------------------------------
    # slow query log
    #--------------------------------------------------------------
    default.slow_query_log = "1"

    #--------------------------------------------------------------
    # long query time
    #--------------------------------------------------------------
    default.long_query_time = "10"

    #--------------------------------------------------------------
    # log output
    #--------------------------------------------------------------
    default.log_output = "FILE"

    #--------------------------------------------------------------
    # character set server
    #--------------------------------------------------------------
    default.character_set_server = "utf8"
  }
}
